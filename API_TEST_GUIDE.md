# MoodCare API í…ŒìŠ¤íŠ¸ ê°€ì´ë“œ

## ğŸš€ ë¹ ë¥¸ ì‹œì‘

### 1. Django ì„œë²„ ì‹¤í–‰
```bash
cd moodcare-backend
./run_server.sh
```

ì„œë²„ê°€ ì‹¤í–‰ë˜ë©´:
- API: http://127.0.0.1:8000/api/v1/
- Admin: http://127.0.0.1:8000/admin/

### 2. Python API í…ŒìŠ¤íŠ¸
```bash
cd moodcare-backend
python test_api.py
```

### 3. Flutter ì•± í…ŒìŠ¤íŠ¸
```bash
cd moodcare_app
flutter run
```

ì•±ì—ì„œ í…ŒìŠ¤íŠ¸ í™”ë©´ ì ‘ê·¼:
- í™ˆ í™”ë©´ â†’ ì„¤ì • â†’ API í…ŒìŠ¤íŠ¸
- ë˜ëŠ” ì§ì ‘ route: `/test`

## ğŸ“‹ í…ŒìŠ¤íŠ¸ í•­ëª©

### Authentication (ì¸ì¦)
- âœ… íšŒì›ê°€ì…
- âœ… ë¡œê·¸ì¸
- âœ… í”„ë¡œí•„ ì¡°íšŒ
- âœ… í† í° ë¦¬í”„ë ˆì‹œ
- âœ… ë¡œê·¸ì•„ì›ƒ

### Emotion (ê°ì • ë¶„ì„)
- âœ… í…ìŠ¤íŠ¸ ê°ì • ë¶„ì„
- âœ… ìŒì„± ê°ì • ë¶„ì„
- âœ… ê°ì • ê¸°ë¡ ìƒì„±
- âœ… ê°ì • ê¸°ë¡ ì¡°íšŒ
- âœ… ê°ì • í†µê³„/ì¸ì‚¬ì´íŠ¸

### Story (ìŠ¤í† ë¦¬í…”ë§)
- âœ… AI ìŠ¤í† ë¦¬ ìƒì„±
- âœ… ìŠ¤í† ë¦¬ ëª©ë¡ ì¡°íšŒ
- âœ… ìŠ¤í† ë¦¬ ì„ íƒì§€ ì²˜ë¦¬
- âœ… ìŠ¤í† ë¦¬ ì €ì¥/ì‚­ì œ
- âœ… í…œí”Œë¦¿ ì¡°íšŒ

### Music (ìŒì•… ì¶”ì²œ)
- âœ… AI ìŒì•… ì¶”ì²œ
- âœ… í”Œë ˆì´ë¦¬ìŠ¤íŠ¸ ì¡°íšŒ
- âœ… ìŒì•… í”„ë¡œí•„ ê´€ë¦¬
- âœ… ìŒì•… ì¼ê¸° ì‘ì„±
- âœ… í”¼ë“œë°± ìˆ˜ì§‘

## ğŸ”§ í™˜ê²½ ì„¤ì •

### .env íŒŒì¼ ì„¤ì •
```bash
cd moodcare-backend
cp .env.example .env
# .env íŒŒì¼ í¸ì§‘í•˜ì—¬ API í‚¤ ì¶”ê°€
```

í•„ìˆ˜ í™˜ê²½ ë³€ìˆ˜:
- `OPENAI_API_KEY`: GPT-4 ì‚¬ìš©
- `SPOTIFY_CLIENT_ID`: ìŒì•… ì¶”ì²œ
- `SPOTIFY_CLIENT_SECRET`: ìŒì•… ì¶”ì²œ

### í…ŒìŠ¤íŠ¸ ê³„ì •
- Username: `testuser`
- Password: `testpass123`
- Email: `test@moodcare.com`

## ğŸ“± Flutter í…ŒìŠ¤íŠ¸ í™”ë©´

### API í…ŒìŠ¤íŠ¸ í™”ë©´ ê¸°ëŠ¥
1. **ê°œë³„ í…ŒìŠ¤íŠ¸**: Auth, Emotion, Story, Music ê°ê° í…ŒìŠ¤íŠ¸
2. **ì „ì²´ í…ŒìŠ¤íŠ¸**: ëª¨ë“  API ìˆœì°¨ í…ŒìŠ¤íŠ¸
3. **ì‹¤ì‹œê°„ ê²°ê³¼**: ê° í…ŒìŠ¤íŠ¸ ì„±ê³µ/ì‹¤íŒ¨ ë° ì‘ë‹µ ì‹œê°„ í‘œì‹œ
4. **ê²°ê³¼ ìš”ì•½**: ì „ì²´ ì„±ê³µë¥  ë° ì‹¤íŒ¨ í•­ëª© í‘œì‹œ

### í…ŒìŠ¤íŠ¸ í™”ë©´ ì¶”ê°€ ë°©ë²•
```dart
// main.dartì˜ ë¼ìš°í„°ì— ì¶”ê°€
GoRoute(
  path: '/test',
  builder: (context, state) => const APITestScreen(),
),
```

## ğŸ› ë””ë²„ê¹…

### ì„œë²„ ë¡œê·¸ í™•ì¸
```bash
tail -f moodcare-backend/server.log
```

### Django ë””ë²„ê·¸ ëª¨ë“œ
```python
# settings.py
DEBUG = True  # ê°œë°œ ì¤‘ì—ë§Œ
```

### Flutter ë””ë²„ê·¸ ì¶œë ¥
```dart
// API ì„œë¹„ìŠ¤ì—ì„œ ë¡œê·¸ í™œì„±í™”
ApiService.enableDebugLog = true;
```

## ğŸ“Š í…ŒìŠ¤íŠ¸ ê²°ê³¼ ì˜ˆì‹œ

```
ğŸš€ Starting MoodCare API Tests
ğŸ“ Target: http://127.0.0.1:8000/api/v1
âœ… Server is running

ğŸ“‹ Authentication Tests
==================================================
âœ… PASS | User Registration
âœ… PASS | User Login
âœ… PASS | Get Profile
âœ… PASS | Token Refresh

ğŸ“‹ Emotion Analysis Tests
==================================================
âœ… PASS | Text Emotion Analysis
âœ… PASS | Create Emotion Record
âœ… PASS | Get Emotion History
âœ… PASS | Get Emotion Insights

ğŸ“Š Test Summary
==================================================
Total Tests: 16
âœ… Passed: 16
âŒ Failed: 0
Success Rate: 100.0%
```

## ğŸš¨ ì¼ë°˜ì ì¸ ë¬¸ì œ í•´ê²°

### 1. ì„œë²„ ì—°ê²° ì‹¤íŒ¨
- Django ì„œë²„ê°€ ì‹¤í–‰ ì¤‘ì¸ì§€ í™•ì¸
- í¬íŠ¸ 8000ì´ ì‚¬ìš© ì¤‘ì¸ì§€ í™•ì¸
- ë°©í™”ë²½ ì„¤ì • í™•ì¸

### 2. ì¸ì¦ ì˜¤ë¥˜
- í† í°ì´ ë§Œë£Œë˜ì—ˆëŠ”ì§€ í™•ì¸
- .env íŒŒì¼ì˜ JWT_SECRET_KEY í™•ì¸

### 3. AI ê¸°ëŠ¥ ì˜¤ë¥˜
- OpenAI API í‚¤ ìœ íš¨ì„± í™•ì¸
- API ì‚¬ìš©ëŸ‰ í•œë„ í™•ì¸

### 4. Flutter ì—°ê²° ì˜¤ë¥˜
- Android ì—ë®¬ë ˆì´í„°: `10.0.2.2:8000` ì‚¬ìš©
- iOS ì‹œë®¬ë ˆì´í„°: `localhost:8000` ì‚¬ìš©
- ì‹¤ì œ ê¸°ê¸°: ê°™ì€ ë„¤íŠ¸ì›Œí¬ì—ì„œ ì»´í“¨í„° IP ì‚¬ìš©

## ğŸ“ ì¶”ê°€ ê°œë°œ ì‚¬í•­

- [ ] WebSocket ì‹¤ì‹œê°„ í†µì‹  í…ŒìŠ¤íŠ¸
- [ ] ì˜¤í”„ë¼ì¸ ëª¨ë“œ í…ŒìŠ¤íŠ¸
- [ ] í‘¸ì‹œ ì•Œë¦¼ í…ŒìŠ¤íŠ¸
- [ ] ì„±ëŠ¥ ë²¤ì¹˜ë§ˆí¬ í…ŒìŠ¤íŠ¸
- [ ] ë¶€í•˜ í…ŒìŠ¤íŠ¸
- [ ] E2E ìë™í™” í…ŒìŠ¤íŠ¸